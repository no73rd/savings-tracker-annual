<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>موقع التحويش الاحترافي</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #f1f8e9);
      padding: 20px;
    }
    .dashboard {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .sidebar {
      position: fixed;
      top: 0;
      right: -260px;
      width: 250px;
      height: 100%;
      background-color: #004d40;
      color: white;
      padding: 20px;
      transition: right 0.3s ease;
      z-index: 1050;
    }
    .sidebar.active {
      right: 0;
    }
    .sidebar a {
      display: block;
      color: white;
      text-decoration: none;
      margin-bottom: 15px;
      font-weight: bold;
    }
    .menu-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1100;
      background: #00796b;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
    }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
  </style>
</head>
<body><button class="menu-toggle" onclick="toggleSidebar()">☰ القائمة</button>

  <div class="sidebar" id="sidebar">
    <h5>📁 القائمة</h5>
    <a href="#" onclick="showSection('main')">📅 جدول التحويش</a>
    <a href="#" onclick="showSection('complete')">✅ الشهور المكتملة</a>
    <a href="#" onclick="showSection('incomplete')">❌ الشهور غير المكتملة</a>
    <a href="#" onclick="showSection('progressing')">⏳ الشهور قيد التنفيذ</a>
    <a href="#" onclick="showSection('transactions')">💳 سجل التحويل</a>
  </div>  <div class="container-fluid">
    <div class="section active" id="main">
      <h2>📅 جدول التحويش</h2>
      <!-- جدول التحويش الأصلي يوضع هنا -->
    </div><div class="section" id="complete">
  <h2>✅ الشهور المكتملة</h2>
  <ul id="completeList"></ul>
</div>

<div class="section" id="incomplete">
  <h2>❌ الشهور غير المكتملة</h2>
  <ul id="incompleteList"></ul>
</div>

<div class="section" id="progressing">
  <h2>⏳ الشهور قيد التنفيذ</h2>
  <ul id="progressList"></ul>
</div>

<div class="section" id="transactions">
  <h2>💳 سجل التحويل</h2>
  <ul id="transactionList"></ul>
</div>

  </div><script>
function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('active');
}

function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if (id === 'complete') buildCompleteList();
  if (id === 'incomplete') buildIncompleteList();
  if (id === 'progressing') buildProgressList();
  if (id === 'transactions') buildTransactions();
}

function getDaysInMonth(month, year) {
  return new Date(year, month, 0).getDate();
}

function getStorageKey(year, month) {
  return `saving-${year}-${month}`;
}

function loadData(year, month) {
  return JSON.parse(localStorage.getItem(getStorageKey(year, month))) || [];
}

function buildCompleteList() {
  const year = new Date().getFullYear();
  const list = document.getElementById('completeList');
  list.innerHTML = '';
  for (let m = 1; m <= 12; m++) {
    const saved = loadData(year, m);
    const days = getDaysInMonth(m, year);
    if (saved.length === days) {
      list.innerHTML += `<li>📅 ${getMonthName(m)} مكتمل</li>`;
    }
  }
}

function buildIncompleteList() {
  const year = new Date().getFullYear();
  const list = document.getElementById('incompleteList');
  list.innerHTML = '';
  for (let m = 1; m <= 12; m++) {
    const saved = loadData(year, m);
    if (saved.length === 0) {
      list.innerHTML += `<li>📅 ${getMonthName(m)} لا يوجد به تحويش</li>`;
    }
  }
}

function buildProgressList() {
  const year = new Date().getFullYear();
  const list = document.getElementById('progressList');
  list.innerHTML = '';
  for (let m = 1; m <= 12; m++) {
    const saved = loadData(year, m);
    const days = getDaysInMonth(m, year);
    if (saved.length > 0 && saved.length < days) {
      list.innerHTML += `<li>📅 ${getMonthName(m)} - ${saved.length} من ${days} يوم</li>`;
    }
  }
}

function buildTransactions() {
  const list = document.getElementById('transactionList');
  list.innerHTML = '';
  for (let y = 2023; y <= 2035; y++) {
    for (let m = 1; m <= 12; m++) {
      const saved = loadData(y, m);
      saved.forEach(day => {
        list.innerHTML += `<li>${day}/${m}/${y} - تم تحويش مبلغ</li>`;
      });
    }
  }
}

function getMonthName(month) {
  const months = ['يناير','فبراير','مارس','أبريل','مايو','يونيو','يوليو','أغسطس','سبتمبر','أكتوبر','نوفمبر','ديسمبر'];
  return months[month - 1];
}
</script></body>
</html>
